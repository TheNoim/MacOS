#!/bin/bash

# Notify bitbar

yabai -m signal --add event=space_changed \
   action="set SHELL=/bin/sh && open -g \"bitbar://refreshPlugin?name=yabai.365d.sh\""
yabai -m signal --add event=window_resized \
   action="set SHELL=/bin/sh && open -g \"bitbar://refreshPlugin?name=yabai.365d.sh\""
yabai -m signal --add event=window_focused \
   action="set SHELL=/bin/sh && open -g \"bitbar://refreshPlugin?name=yabai.365d.sh\""
yabai -m signal --add event=application_activated \
   action="set SHELL=/bin/sh && open -g \"bitbar://refreshPlugin?name=yabai.365d.sh\""


# global settings
yabai -m config mouse_follows_focus          off
yabai -m config focus_follows_mouse          off
yabai -m config window_shadow                off
yabai -m config window_border                on
yabai -m config window_border_placement      exterior
yabai -m config window_border_width          2
yabai -m config window_border_radius         -1.0
yabai -m config active_window_border_topmost on
yabai -m config active_window_border_color   0xffFF8500
yabai -m config normal_window_border_color   0x00505050 # alpha is 0
yabai -m config insert_window_border_color   0xffd75f5f # insert means selected but focused

# Message
echo "signals ready"
